<header class="top-header">
    <div class="header-left">
        <span class="site-title">Top Charts Fund</span>
    </div>
</header>
<div class="buy-sell-container">
    <div class="header-section buy-mode">
        <h2>üìà ‡∏ã‡∏∑‡πâ‡∏≠‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏•‡∏á‡∏ó‡∏∏‡∏ô</h2>
        <div class="fund-id-tag">ID: {{ fundId }}</div>
    </div>
    <h3 style="margin-top: 0; color: #333;">{{ fundData?.FundName }}</h3>

    <div class="portfolio-card buy-style">
        <div class="info-row">
            <span>‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏´‡∏±‡∏Å‡πÄ‡∏á‡∏¥‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥:</span>
            <strong>‡∏ò‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏£‡∏Å‡∏™‡∏¥‡∏Å‡∏£‡πÑ‡∏ó‡∏¢ (x-1234)</strong>
        </div>
        <div class="info-row">
            <span>‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÉ‡∏ô‡∏ö‡∏±‡∏ç‡∏ä‡∏µ:</span>
            <strong>{{ 150000 | number }} ‡∏ö‡∏≤‡∏ó</strong>
        </div>
    </div>

    <div class="form-area dx-fieldset">
        
        <div class="dx-field">
            <div class="dx-field-label">‡∏£‡∏∞‡∏ö‡∏∏‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô (‡∏ö‡∏≤‡∏ó):</div>
            <div class="dx-field-value">
                <dx-number-box 
                    [(value)]="purchaseAmount" 
                    [min]="1000" 
                    format="#,##0.00">
                </dx-number-box>
                <div style="font-size: 0.8rem; color: #888; margin-top: 5px;">*‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≥ 1,000 ‡∏ö‡∏≤‡∏ó</div>
            </div>
        </div>

        <div class="dx-field">
            <div class="dx-field-label">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£:</div>
            <div class="dx-field-value">
                <dx-date-box [value]="today" [min]="today" displayFormat="dd/MM/yyyy"></dx-date-box>
            </div>
        </div>

        <div class="summary-box">
            <div class="dx-field">
                <div class="dx-field-label">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏•‡∏á‡∏ó‡∏∏‡∏ô:</div>
                <div class="dx-field-value" style="text-align: right;">
                    {{ purchaseAmount | number:'1.2-2' }} ‡∏ö‡∏≤‡∏ó
                </div>
            </div>
            <div class="dx-field">
                <div class="dx-field-label">‡∏Ñ‡πà‡∏≤‡∏ò‡∏£‡∏£‡∏°‡πÄ‡∏ô‡∏µ‡∏¢‡∏° (1%):</div>
                <div class="dx-field-value fee-text" style="text-align: right;">
                    + {{ purchaseFee | number:'1.2-2' }} ‡∏ö‡∏≤‡∏ó
                </div>
            </div>
            <hr style="border: 0; border-top: 1px solid #ccc; margin: 10px 0;">
            <div class="dx-field">
                <div class="dx-field-label" style="align-self: flex-end;">‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ä‡∏≥‡∏£‡∏∞:</div>
                <div class="dx-field-value net-amount" style="text-align: right; color: #28a745;">
                    {{ totalPayment | number:'1.2-2' }} ‡∏ö‡∏≤‡∏ó
                </div>
            </div>
        </div>

        <div style="margin-bottom: 20px;">
            <dx-check-box text="‡∏Ç‡πâ‡∏≤‡∏û‡πÄ‡∏à‡πâ‡∏≤‡∏¢‡∏¥‡∏ô‡∏¢‡∏≠‡∏°‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏ö‡∏ó‡∏£‡∏≤‡∏ö‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏ä‡∏µ‡πâ‡∏ä‡∏ß‡∏ô" [(value)]="isAgreed"></dx-check-box>
        </div>

        <div class="action-buttons">
            <dx-button 
                text="‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠" 
                type="success" 
                [width]="'100%'" 
                [height]="50"
                [disabled]="!isAgreed || purchaseAmount < 1000"
                (onClick)="confirmPurchase()">
            </dx-button>
        </div>

        <div *ngIf="purchaseSuccess" class="success-message">
            <i class="pi pi-check-circle" style="font-size: 2rem;"></i>
            <h3>‡∏ã‡∏∑‡πâ‡∏≠‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!</h3>
            <p>‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏•‡πâ‡∏ß</p>
        </div>
    </div>
</div>

<div class="back-nav">
    <a routerLink="/" class="pi pi-arrow-left"> ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</a>
</div>