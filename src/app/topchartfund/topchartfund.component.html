<header class="top-header">
    <div class="header-left">
        <span class="page-title">Top Charts</span>
    </div>
    <div class="header-right">
        <button (click)="navigateToManage()" class="manage-button">
            <span class="pi pi-list"></span> ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≠‡∏á‡∏ó‡∏∏‡∏ô
        </button>
        <dx-button 
            text="‡∏ã‡∏∑‡πâ‡∏≠‡∏Å‡∏≠‡∏á‡∏ó‡∏∏‡∏ô" 
            type="success"
            icon="cart"
            (onClick)="navigateToBuy(null)"
        ></dx-button>
        <dx-button 
            text="‡∏Ç‡∏≤‡∏¢" 
            type="danger"
            icon="tags"
            (onClick)="navigateToSell(null)"
        ></dx-button>
    </div>
</header>

<div class="content-container">

    <div class="filter-area">
        <div class="filter-left">
            <div class="top-charts-branding">
                <span class="chart-icon">üìä</span>
                <span class="chart-text">10 ‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö‡∏Å‡∏≠‡∏á‡∏ó‡∏∏‡∏ô‡∏£‡∏ß‡∏°‡∏ó‡∏µ‡πà‡∏ï‡∏¥‡∏î Top Returns</span>
            </div>
        </div>

        <div class="filter-right">
            <label for="search-fund">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ä‡∏∑‡πà‡∏≠‡∏Å‡∏≠‡∏á‡∏ó‡∏∏‡∏ô:</label>
            <dx-text-box
                id="search-fund"
                placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Å‡∏≠‡∏á‡∏ó‡∏∏‡∏ô..."
                mode="search">
            </dx-text-box>
        </div>
    </div>
    
    <div class="chart-grid-area">
        <dx-chart
            id="chart"
            title="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡∏ó‡∏µ‡πà‡∏ï‡∏¥‡∏î‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î"
            [dataSource]="chartData"
            (onPointClick)="onPointClick($event)">
            
            <dxo-common-series-settings type="bar" argumentField="FundName">
                <dxo-label [visible]="true" [customizeText]="customizeSeriesLabel">
                <dxo-font color="#444" [size]="10"></dxo-font>
                </dxo-label>
            </dxo-common-series-settings>

            <dxi-series 
                name="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡∏ó‡∏µ‡πà‡∏ï‡∏¥‡∏î‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö" 
                valueField="Ranking" 
                color="#7D3C98"> 
            </dxi-series>

            <dxo-argument-axis>
                <dxo-label [visible]="true" [customizeText]="customizeLabel"><dxo-font [size]="10"></dxo-font>
                </dxo-label>
            </dxo-argument-axis>
            
            <dxo-value-axis> 
                 <dxo-title text="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå (‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå)"></dxo-title>
            </dxo-value-axis>

            <dxo-legend [visible]="false"></dxo-legend>
            <dxo-tooltip [enabled]="true"></dxo-tooltip>
        </dx-chart>
<div class="content-container">
    <div class="chart-grid-area">
        <div id="fund-list-grid">
            <h2>üìú ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Å‡∏≠‡∏á‡∏ó‡∏∏‡∏ô Top 10</h2>
            <dx-data-grid 
                id="gridContainer" 
                [dataSource]="topChartData" 
                [allowColumnReordering]="true"
                [rowAlternationEnabled]="true"
                [showBorders]="true"
                [showRowLines]="true"
                [width]="'100%'"
                (onRowClick)="onRowClick($event)"> 
                
                <dxi-column dataField="Id" caption="‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö" [width]="60" alignment="center">
                    <div *dxTemplate="let data of 'cell'"> 
                        <span class="rank-icon rank-{{data.value}}">
                            {{ data.value }}
                        </span>
                    </div>
                </dxi-column>
                
                <dxi-column dataField="FundName" caption="‡∏Å‡∏≠‡∏á‡∏ó‡∏∏‡∏ô" alignment="left" [width]="250">
                    <div *dxTemplate="let data of 'cell'">
                        <div style="font-weight: 600; cursor: pointer;" (click)="onRowClick({ data: data.data, event: $event })">{{ data.value }}</div>
                        <div style="font-size: 0.8em; color: #666;">
                            ‡∏ö‡∏•‡∏à. {{ data.data.Company }}
                        </div>
                    </div>
                </dxi-column>

                <dxi-column dataField="NAV" caption="NAV" dataType="number" format="#,##0.0000" alignment="right" [width]="100"></dxi-column>
                
                <dxi-column dataField="Ranking" caption="‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡∏ó‡∏µ‡πà‡∏ï‡∏¥‡∏î‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö" alignment="center" [width]="120"></dxi-column>

                <dxi-column dataField="Return1Y" caption="‡∏ú‡∏•‡∏ï‡∏≠‡∏ö‡πÅ‡∏ó‡∏ô 3 ‡∏õ‡∏µ (%)" alignment="right" [width]="120">
                    <div *dxTemplate="let data of 'cell'">
                        <div [ngClass]="{'positive-return': data.value > 0}">{{ data.value | number:'1.2-2' }}%</div>
                    </div>
                </dxi-column>

                <dxi-column caption="Action" alignment="center" [width]="150" [allowSorting]="false" [allowReordering]="false">
                    <div *dxTemplate="let data of 'cell'">
                        <dx-button icon="cart" type="success" hint="‡∏ã‡∏∑‡πâ‡∏≠‡∏Å‡∏≠‡∏á‡∏ó‡∏∏‡∏ô" (onClick)="navigateToBuy(data.data.Id)"></dx-button>
                        <dx-button icon="tags" type="danger" hint="‡∏Ç‡∏≤‡∏¢‡∏Å‡∏≠‡∏á‡∏ó‡∏∏‡∏ô" (onClick)="navigateToSell(data.data.Id)"></dx-button>
                    </div>
                </dxi-column>
                
                <dxo-paging [pageSize]="10"></dxo-paging>
                <dxo-pager [showPageSizeSelector]="true" [allowedPageSizes]="[5, 10, 20]"></dxo-pager>

            </dx-data-grid>
        </div>
    </div>
</div>